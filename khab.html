<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­Ø§Ø³Ø¨Ù‡â€ŒÚ¯Ø± Ø¬Ø§Ø¯ÙˆÛŒÛŒ Ø®ÙˆØ§Ø¨ | Ù†Ø³Ø®Ù‡ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;400;700&display=swap');
        
        :root {
            --primary: #8b5cf6;
            --secondary: #ec4899;
            --bg: #0f172a;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%);
            color: #f8fafc;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .glass-3d {
            background: rgba(255, 255, 255, 0.07);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3), 
                        inset 0 0 20px rgba(255, 255, 255, 0.05);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .glass-3d:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 30px 60px rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.4);
        }

        .stat-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.02));
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .neon-glow {
            filter: drop-shadow(0 0 8px var(--primary));
        }

        .floating {
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }

        .gradient-text {
            background: linear-gradient(to right, #c084fc, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        input[type="range"] {
            height: 10px;
            border-radius: 5px;
            background: #1e293b;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            box-shadow: 0 0 15px #8b5cf6;
            border: 3px solid white;
        }

        .custom-loader {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #8b5cf6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="text-center mb-16 relative">
            <div class="absolute -top-10 left-1/2 -translate-x-1/2 w-64 h-64 bg-violet-600/20 blur-[100px] -z-10"></div>
            <h1 class="text-5xl md:text-7xl font-bold mb-6 floating">
                <span class="gradient-text">Ø±ÙˆÛŒØ§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ ØªÙˆ</span>
                <i class="fas fa-stars text-yellow-400 text-3xl align-top mr-2"></i>
            </h1>
            <p class="text-lg text-slate-300 max-w-2xl mx-auto leading-relaxed">
                ØªØ§ Ø¨Ù‡ Ø­Ø§Ù„ ÙÚ©Ø± Ú©Ø±Ø¯ÛŒ Ú†Ù†Ø¯ Ø³Ø§Ù„ Ø§Ø² Ø¹Ù…Ø±Øª Ø±Ùˆ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±ÙˆØ§Ø² ØªÙˆ Ø¢Ø³Ù…Ø§Ù†Ù Ø®ÛŒØ§Ù„ Ø¨ÙˆØ¯ÛŒØŸ 
                Ø¨ÛŒØ§ Ø¨Ø§ Ù‡Ù… Ø§ÛŒÙ† Ø³ÙØ± Ø±Ùˆ ØªØ­Ù„ÛŒÙ„ Ú©Ù†ÛŒÙ…!
            </p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
            
            <!-- Sidebar Controls -->
            <div class="lg:col-span-4 space-y-8">
                <div class="glass-3d p-8">
                    <h2 class="text-2xl font-bold mb-8 flex items-center">
                        <i class="fas fa-user-astronaut ml-3 text-violet-400"></i>
                        Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ
                    </h2>
                    
                    <div class="space-y-8">
                        <div>
                            <label class="block text-sm font-medium mb-3 text-slate-400">Ø³Ù† Ø´Ù…Ø§ Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ</label>
                            <div class="relative">
                                <input type="number" id="ageInput" value="25" 
                                    class="w-full bg-slate-800/50 border border-slate-700 rounded-2xl p-4 text-2xl font-bold focus:ring-4 focus:ring-violet-500/20 transition-all outline-none">
                                <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 font-bold">Ø³Ø§Ù„</span>
                            </div>
                        </div>

                        <div>
                            <div class="flex justify-between mb-3">
                                <label class="text-sm font-medium text-slate-400">Ù…ÛŒØ²Ø§Ù† Ø®ÙˆØ§Ø¨ Ø´Ø¨Ø§Ù†Ù‡</label>
                                <span class="bg-violet-500/20 text-violet-300 px-3 py-1 rounded-full text-sm font-bold">
                                    <span id="hoursVal">8</span> Ø³Ø§Ø¹Øª
                                </span>
                            </div>
                            <input type="range" id="hoursInput" min="1" max="24" value="8" class="w-full">
                        </div>

                        <button onclick="calculate()" class="w-full bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 text-white font-bold py-5 rounded-2xl shadow-2xl shadow-violet-900/40 transition-all transform active:scale-95 flex items-center justify-center text-lg">
                            <i class="fas fa-wand-magic-sparkles ml-2"></i>
                            Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¬Ø§Ø¯ÙˆÛŒÛŒ
                        </button>
                    </div>
                </div>

                <!-- AI Dream Canvas -->
                <div class="glass-3d p-8 overflow-hidden relative">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-pink-500/10 blur-3xl"></div>
                    <h2 class="text-xl font-bold mb-4 text-pink-300">
                        <i class="fas fa-paint-brush ml-2"></i>Ù†Ù‚Ø§Ø´ÛŒ Ø±ÙˆÛŒØ§ Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
                    </h2>
                    <p class="text-xs text-slate-400 mb-6">Ø®ÙˆØ§Ø¨ Ø¯ÛŒØ´Ø¨ ÛŒØ§Ø¯Øª Ù‡Ø³ØªØŸ Ø¨Ø±Ø§Ù… Ø¨Ù†ÙˆÛŒØ³ ØªØ§ ØªØµÙˆÛŒØ±Ø´ Ø±Ùˆ Ø¨Ø³Ø§Ø²Ù….</p>
                    <textarea id="dreamPrompt" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ù†Ù‡Ù†Ú¯ÛŒ Ú©Ù‡ Ø¯Ø± Ú©Ù‡Ú©Ø´Ø§Ù† ØµÙˆØ±ØªÛŒ Ø´Ù†Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯..." 
                        class="w-full bg-slate-800/40 border border-slate-700 rounded-xl p-3 text-sm focus:ring-2 focus:ring-pink-500 outline-none mb-4 min-h-[100px]"></textarea>
                    
                    <button onclick="generateDreamImage()" id="genBtn" class="w-full bg-slate-700 hover:bg-pink-600 py-3 rounded-xl transition-all font-bold">
                        <i class="fas fa-sparkles ml-2"></i>Ø³Ø§Ø®Øª ØªØµÙˆÛŒØ±
                    </button>

                    <div id="loadingIndicator" class="mt-4 flex flex-col items-center hidden">
                        <div class="custom-loader block"></div>
                        <p class="text-xs mt-2 text-pink-300">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§ÙØªÙ† Ø±ÙˆÛŒØ§...</p>
                    </div>

                    <div id="dreamResult" class="mt-6 rounded-2xl overflow-hidden border-2 border-pink-500/30 shadow-2xl hidden">
                        <img id="generatedImg" src="" alt="Dream" class="w-full h-auto">
                    </div>
                </div>
            </div>

            <!-- Main Results Area -->
            <div class="lg:col-span-8 space-y-10">
                
                <!-- Counter Grid -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="glass-3d p-8 text-center group">
                        <div class="w-16 h-16 bg-violet-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-violet-500/40 transition-colors">
                            <i class="fas fa-calendar-check text-2xl text-violet-400"></i>
                        </div>
                        <p class="text-slate-400 text-sm mb-2">Ø³Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø®ÙˆØ§Ø¨</p>
                        <h3 id="resYears" class="text-5xl font-bold gradient-text">0</h3>
                    </div>
                    
                    <div class="glass-3d p-8 text-center group">
                        <div class="w-16 h-16 bg-blue-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-500/40 transition-colors">
                            <i class="fas fa-clock text-2xl text-blue-400"></i>
                        </div>
                        <p class="text-slate-400 text-sm mb-2">Ù…Ø¬Ù…ÙˆØ¹ Ø±ÙˆØ²Ù‡Ø§</p>
                        <h3 id="resDays" class="text-5xl font-bold text-blue-400">0</h3>
                    </div>

                    <div class="glass-3d p-8 text-center group">
                        <div class="w-16 h-16 bg-emerald-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-500/40 transition-colors">
                            <i class="fas fa-hourglass-half text-2xl text-emerald-400"></i>
                        </div>
                        <p class="text-slate-400 text-sm mb-2">Ø³Ø§Ø¹Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ù¾Ø±ÛŒ Ø´Ø¯Ù‡</p>
                        <h3 id="resHours" class="text-5xl font-bold text-emerald-400">0</h3>
                    </div>
                </div>

                <!-- Animal Kingdom 3D Cards -->
                <div class="glass-3d p-10 relative overflow-hidden">
                    <div class="absolute top-0 left-0 p-4 opacity-10">
                        <i class="fas fa-paw text-9xl"></i>
                    </div>
                    <h2 class="text-3xl font-bold mb-10 text-center">Ø§Ú¯Ø± Ø­ÛŒÙˆØ§Ù† Ø¨ÙˆØ¯ÛŒØŒ Ø¹Ù…Ø±Øª Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒÚ¯Ø°Ø´ØªØŸ</h2>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                        <div class="stat-card p-6 text-center group cursor-help">
                            <div class="text-6xl mb-4 transform group-hover:scale-125 transition-transform duration-500">ğŸ¨</div>
                            <p class="font-bold text-lg mb-1">Ú©ÙˆØ§Ù„Ø§</p>
                            <p class="text-violet-400 font-bold" id="koalaSleep">--</p>
                            <div class="mt-3 text-[10px] bg-white/5 py-1 rounded-full">Û²Û² Ø³Ø§Ø¹Øª Ø¯Ø± Ø±ÙˆØ²</div>
                        </div>
                        <div class="stat-card p-6 text-center group cursor-help">
                            <div class="text-6xl mb-4 transform group-hover:scale-125 transition-transform duration-500">ğŸ¦‡</div>
                            <p class="font-bold text-lg mb-1">Ø®ÙØ§Ø´</p>
                            <p class="text-violet-400 font-bold" id="batSleep">--</p>
                            <div class="mt-3 text-[10px] bg-white/5 py-1 rounded-full">Û²Û° Ø³Ø§Ø¹Øª Ø¯Ø± Ø±ÙˆØ²</div>
                        </div>
                        <div class="stat-card p-6 text-center group cursor-help">
                            <div class="text-6xl mb-4 transform group-hover:scale-125 transition-transform duration-500">ğŸ¦</div>
                            <p class="font-bold text-lg mb-1">Ø´ÛŒØ±</p>
                            <p class="text-violet-400 font-bold" id="lionSleep">--</p>
                            <div class="mt-3 text-[10px] bg-white/5 py-1 rounded-full">Û±Û³ Ø³Ø§Ø¹Øª Ø¯Ø± Ø±ÙˆØ²</div>
                        </div>
                        <div class="stat-card p-6 text-center group cursor-help">
                            <div class="text-6xl mb-4 transform group-hover:scale-125 transition-transform duration-500">ğŸ¦’</div>
                            <p class="font-bold text-lg mb-1">Ø²Ø±Ø§ÙÙ‡</p>
                            <p class="text-violet-400 font-bold" id="giraffeSleep">--</p>
                            <div class="mt-3 text-[10px] bg-white/5 py-1 rounded-full">Û² Ø³Ø§Ø¹Øª Ø¯Ø± Ø±ÙˆØ²</div>
                        </div>
                    </div>
                </div>

                <!-- Health Doctor Section -->
                <div id="healthPanel" class="glass-3d p-10 border-r-8 border-violet-500/50">
                    <div class="flex items-start gap-6">
                        <div class="hidden md:block text-5xl text-violet-400 mt-2">
                            <i class="fas fa-briefcase-medical"></i>
                        </div>
                        <div class="flex-1">
                            <h2 class="text-2xl font-bold mb-4">Ù†Ø³Ø®Ù‡ Ø§Ø®ØªØµØ§ØµÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§</h2>
                            <div id="healthAnalysis" class="space-y-4">
                                <p class="text-slate-500 animate-pulse">Ø¯Ø± Ø­Ø§Ù„ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒÙˆÙ„ÙˆÚ˜ÛŒÚ© Ø´Ù…Ø§...</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <footer class="mt-20 py-10 border-t border-white/5 text-center text-slate-500">
        <div class="flex justify-center gap-6 mb-4 text-xl">
            <i class="fab fa-instagram hover:text-pink-500 transition-colors cursor-pointer"></i>
            <i class="fab fa-twitter hover:text-blue-400 transition-colors cursor-pointer"></i>
            <i class="fas fa-envelope hover:text-violet-400 transition-colors cursor-pointer"></i>
        </div>
        <p>&copy; 2026 Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ Ø¬Ø§Ø¯ÙˆÛŒÛŒ Ø®ÙˆØ§Ø¨ | Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø§ Ø¹Ø´Ù‚ Ùˆ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</p>
    </footer>

    <script>
        const apiKey = ""; 

        // Update Range
        document.getElementById('hoursInput').addEventListener('input', (e) => {
            document.getElementById('hoursVal').innerText = e.target.value;
        });

        async function calculate() {
            const age = parseFloat(document.getElementById('ageInput').value);
            const hours = parseFloat(document.getElementById('hoursInput').value);
            
            if (isNaN(age) || age <= 0) return;

            const totalSleepYears = (age * hours) / 24;
            const totalDays = totalSleepYears * 365;
            const totalHours = totalDays * 24;

            // Animate counts
            animateValue("resYears", 0, totalSleepYears.toFixed(1), 1500);
            animateValue("resDays", 0, Math.floor(totalDays), 1500);
            animateValue("resHours", 0, Math.floor(totalHours), 1500);

            // Animal Update
            document.getElementById('koalaSleep').innerText = ((age * 22) / 24).toFixed(1) + " Ø³Ø§Ù„";
            document.getElementById('batSleep').innerText = ((age * 20) / 24).toFixed(1) + " Ø³Ø§Ù„";
            document.getElementById('lionSleep').innerText = ((age * 13) / 24).toFixed(1) + " Ø³Ø§Ù„";
            document.getElementById('giraffeSleep').innerText = ((age * 1.9) / 24).toFixed(1) + " Ø³Ø§Ù„";

            updateHealthTips(hours);
        }

        function animateValue(id, start, end, duration) {
            const obj = document.getElementById(id);
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const current = (progress * (end - start) + start);
                obj.innerHTML = current.toLocaleString(undefined, {maximumFractionDigits: (end % 1 === 0 ? 0 : 1)});
                if (progress < 1) window.requestAnimationFrame(step);
            };
            window.requestAnimationFrame(step);
        }

        function updateHealthTips(hours) {
            const container = document.getElementById('healthAnalysis');
            let content = "";
            
            if (hours < 6) {
                content = `
                    <div class="bg-red-500/10 p-6 rounded-2xl border border-red-500/20">
                        <h4 class="text-red-400 font-bold text-xl mb-3"><i class="fas fa-exclamation-triangle ml-2"></i>Ù‡Ø´Ø¯Ø§Ø±: Ø´Ù…Ø§ ÛŒÚ© "Ø¬ØºØ¯ Ø´Ø¨" ÙˆØ§Ù‚Ø¹ÛŒ Ù‡Ø³ØªÛŒØ¯!</h4>
                        <p class="text-slate-300 leading-relaxed">Ú©Ù…â€ŒØ®ÙˆØ§Ø¨ÛŒ Ø¯Ø± Ø¯Ø±Ø§Ø²Ù…Ø¯Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø³ÛŒØ³ØªÙ… Ø§ÛŒÙ…Ù†ÛŒ Ø±Ø§ Ø¶Ø¹ÛŒÙ Ú©Ù†Ø¯. Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ ÙˆÛŒÚ˜Ù‡:</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                            <div class="bg-white/5 p-3 rounded-xl text-sm italic border-l-4 border-red-400">Ù†ÙˆØ± Ø¢Ø¨ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø±Ø§ Ø§Ø² Ø³Ø§Ø¹Øª Û±Û° Ø´Ø¨ Ø­Ø°Ù Ú©Ù†ÛŒØ¯.</div>
                            <div class="bg-white/5 p-3 rounded-xl text-sm italic border-l-4 border-red-400">Ú†Ø§ÛŒ Ø³Ø¨Ø² Ø±Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù‚Ù‡ÙˆÙ‡ Ø¹ØµØ±Ú¯Ø§Ù‡ÛŒ Ú©Ù†ÛŒØ¯.</div>
                        </div>
                    </div>`;
            } else if (hours >= 6 && hours <= 9) {
                content = `
                    <div class="bg-emerald-500/10 p-6 rounded-2xl border border-emerald-500/20">
                        <h4 class="text-emerald-400 font-bold text-xl mb-3"><i class="fas fa-check-circle ml-2"></i>ØªØ¨Ø±ÛŒÚ©! ØªØ¹Ø§Ø¯Ù„ Ø´Ù…Ø§ Ø¨ÛŒâ€ŒÙ†Ø¸ÛŒØ± Ø§Ø³Øª.</h4>
                        <p class="text-slate-300">Ø¨Ø¯Ù† Ø´Ù…Ø§ Ø¯Ø± ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ø§ÛŒØ¯Ù‡â€ŒØ¢Ù„ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯. Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ± Ø´Ø¯Ù†:</p>
                        <ul class="list-disc list-inside mt-3 text-slate-400 space-y-2">
                            <li>Ù‚Ø¨Ù„ Ø§Ø² Ø®ÙˆØ§Ø¨ Ù…Ø¯ÛŒØªÛŒØ´Ù† Ú©ÙˆØªØ§Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯.</li>
                            <li>Ø¯Ù…Ø§ÛŒ Ø§ØªØ§Ù‚ Ø±Ø§ Ø±ÙˆÛŒ Û±Û¸ ØªØ§ Û²Û² Ø¯Ø±Ø¬Ù‡ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.</li>
                        </ul>
                    </div>`;
            } else {
                content = `
                    <div class="bg-blue-500/10 p-6 rounded-2xl border border-blue-500/20">
                        <h4 class="text-blue-400 font-bold text-xl mb-3"><i class="fas fa-cloud-moon ml-2"></i>Ø´Ù…Ø§ ÛŒÚ© "Ø§Ø³ØªØ§Ø¯ Ø±ÙˆÛŒØ§" Ù‡Ø³ØªÛŒØ¯!</h4>
                        <p class="text-slate-300">Ø®ÙˆØ§Ø¨ Ø²ÛŒØ§Ø¯ (Ø¨ÛŒØ´ Ø§Ø² Û¹ Ø³Ø§Ø¹Øª) Ú¯Ø§Ù‡ÛŒ Ù†Ø´Ø§Ù†Ù‡ Ù†ÛŒØ§Ø² Ø¨Ø¯Ù† Ø¨Ù‡ Ø±ÛŒÚ©Ø§ÙˆØ±ÛŒ Ø¹Ù…ÛŒÙ‚ Ø§Ø³Øª.</p>
                        <div class="mt-4 p-4 bg-white/5 rounded-xl text-sm text-blue-200">
                            <strong>Ù†Ú©ØªÙ‡:</strong> Ø§Ú¯Ø± Ù‡Ù…Ú†Ù†Ø§Ù† Ø§Ø­Ø³Ø§Ø³ Ø®Ø³ØªÚ¯ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¢Ø²Ù…Ø§ÛŒØ´ Ø³Ø·Ø­ ÙˆÛŒØªØ§Ù…ÛŒÙ† D Ùˆ ØªÛŒØ±ÙˆØ¦ÛŒØ¯ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                        </div>
                    </div>`;
            }
            container.innerHTML = content;
        }

        async function generateDreamImage() {
            const prompt = document.getElementById('dreamPrompt').value;
            if (!prompt) return;

            const btn = document.getElementById('genBtn');
            const loader = document.getElementById('loadingIndicator');
            const resultDiv = document.getElementById('dreamResult');
            const imgEl = document.getElementById('generatedImg');
            
            btn.classList.add('hidden');
            loader.classList.remove('hidden');
            resultDiv.classList.add('hidden');

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        instances: [{ prompt: `3D octane render style, dreamy and ethereal illustration of ${prompt}, vibrant colors, soft glow, high detail, masterpiece` }],
                        parameters: { sampleCount: 1 }
                    })
                });

                const data = await response.json();
                if (data.predictions && data.predictions[0]) {
                    imgEl.src = `data:image/png;base64,${data.predictions[0].bytesBase64Encoded}`;
                    resultDiv.classList.remove('hidden');
                }
            } catch (error) {
                console.error("AI Error:", error);
            } finally {
                btn.classList.remove('hidden');
                loader.classList.add('hidden');
            }
        }

        // Run on load
        window.onload = calculate;
    </script>
</body>
</html>